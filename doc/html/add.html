<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Slurm Workload Manager - Adding Files or Plugins to Slurm</title>
	<link rel="canonical" href="https://slurm.schedmd.com/add.html" />

	<link rel="shortcut icon" href="favicon.ico" />

	<link rel="stylesheet" type="text/css" href="fonts.css" />
	<link rel="stylesheet" type="text/css" href="reset.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" type="text/css" href="slurm.css" />

	<script src="jquery.min.js"></script>
	<script type="text/javascript">
	jQuery(document).ready(function() {
		jQuery('.menu-trigger').bind('click touchstart', function() {
			jQuery(this).find('.menu-trigger__lines').toggleClass('menu-trigger__lines--closed');
			jQuery(this).parents('.site-header').find('.site-nav').toggleClass('site-nav--active');

			return false;
		});
	});

	(function() {
	  var cx = '011890816164765777536:jvrtxrd3f0w';
	  var gcse = document.createElement('script');
	  gcse.type = 'text/javascript';
	  gcse.async = true;
	  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	  var s = document.getElementsByTagName('script')[0];
	  s.parentNode.insertBefore(gcse, s);
	})();
	</script>
</head>

<body>

<div class="container container--main">

	<header class="site-header" role="banner">

		<div class="site-masthead">
			<h1 class="site-masthead__title site-masthead__title--slurm">
				<a href="/" rel="home">
					<span class="slurm-logo">Slurm Workload Manager</span>
				</a>
			</h1>
			<div class="site-masthead__title">
				<a href="https://www.schedmd.com/" rel="home">
					<span class="site-logo">SchedMD</span>
				</a>
			</div>

			<button class="site-masthead__trigger menu-trigger" type="button" role="button" aria-label="Toggle Navigation"><span class="menu-trigger__lines"></span></button>
		</div>


		<nav class="site-nav">
			<h2 class="site-nav__title">Navigation</h2>

			<div class="slurm-title">
				<div class="slurm-logo"><a href="/">Slurm Workload Manager</a></div>
				<div class="slurm-title__version">Version 20.11</div>
			</div>

			<ul class="site-nav__menu site-menu menu" role="navigation">
				<li class="site-menu__item">
				        <div>About</div>
					<ul>
						<li><a href="overview.html">Overview</a></li>
						<li><a href="news.html">Release Notes</a></li>
						<li><a href="team.html">Slurm Team</a></li>
						<li><a href="meetings.html">Meetings</a></li>
						<li><a href="testimonials.html">Testimonials</a></li>
						<li><a href="disclaimer.html">Legal Notices</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Using</div>
					<ul>
						<li><a href="tutorials.html">Tutorials</a></li>
						<li><a href="documentation.html">Documentation</a></li>
						<li><a href="faq.html">FAQ</a></li>
						<li><a href="publications.html">Publications</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Installing</div>
					<ul>
						<li><a href="download.html">Download</a></li>
						<li><a href="quickstart_admin.html">Installation Guide</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Getting Help</div>
					<ul>
						<li><a href="https://www.schedmd.com/services.php">Support</a></li>
						<li><a href="mail.html">Mailing Lists</a></li>
						<li><a href="https://www.schedmd.com/services.php">Training</a></li>
						<li><a href="troubleshoot.html">Troubleshooting</a></li>
					</ul>
				</li>
			</ul>

		</nav>

	</header>

	<div class="content" role="main">
		<section class="slurm-search">
			<div class="container" id="cse">
				<gcse:search></gcse:search>
			</div>
		</section>

		<div class="section">
			<div class="container">


<h1>Adding Files or Plugins to Slurm</h1>

<h2>Adding a File to Slurm</h2>

<p>This is the procedure to follow in order to add a new C file to the Slurm
code base.  We recommend using a git branch for this purpose.</p>

<ol>
<li>Add your new file to the git repository.</li>

<li>Modify the "Makefile.am" file in the file's parent directory.</li>

<li>Execute "autoreconf" in Slurm's top level directory.
If you have older versions of the autoconf, automake, libtool or aclocal then
you may need to manually modify the Makefile.in file in the file's parent
directory. If you have different versions of the files than were originally
used by the Slurm team, this may rebuild all of the Makefile.in files in Slurm.</li>
</ol>

<h2>Adding a Plugin to Slurm</h2>

<p>This is the procedure to follow in order to add a new plugin to the Slurm
code base.  We recommend using a git branch for this purpose. In this example,
we show which files would need to be modified in order to add a plugin named
"topology/4d_torus".</p>

<ol>
<li>Create a new directory for this plugin
(e.g. "src/plugins/topology/4d_torus").</li>

<li>Add this new directory to its parent directory's "Makefile.am" file
(e.g. "src/plugins/topology/Makefile.am").</li>

<li>Put your new file(s) in the appropriate directory
(e.g. "src/plugins/topology/4d_torus/topology_4d_torus.c"). </li>

<li>Create a "Makefile.am" file in the new directory identifying the new file(s)
(e.g. "src/plugins/topology/4d_torus/Makefile.am"). Use an existing "Makefile.am"
file as a model.</li>

<li>Identify the new Makefile to be built at Slurm configure time in the file
"configure.ac". Please maintain the alphabetic ordering of entries.</li>

<li>Execute "autoreconf" in Slurm's top level directory.
If you have older versions of the autoconf, automake, libtool or aclocal then
you may need to manually create or modify the Makefile.in files.
If you have different versions of the files than were originally used by the
Slurm team, this may rebuild all of the Makefile.in files in Slurm.</li>

<li>Modify the "slurm.spec" file to include the new plugin file in an
appropriate RPM.</li>

<li>Add the new files, including "Makefile.am" and "Makefile.in", to the git
repository.</li>
</ol>

<p style="text-align:center;">Last modified 27 February 2019</p>

			</div> <!-- END .container -->
		</div> <!-- END .section -->
	</div> <!-- END .content -->
</div> <!-- END .main -->

<footer class="site-footer" role="contentinfo">
	<nav class="footer-nav section">
		<div class="container">
			<p><a href="disclaimer.html" target="_blank" class="privacy">Legal Notices</a></p>
		</div>
	</nav>
</footer>

<script type='text/javascript'>
	var custpagename = window.location.href;
	var urlarray = custpagename.split('#');
	custpagename = urlarray[1];

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			 ga('create', 'UA-47927131-1', 'schedmd.com');
		ga('send', {'hitType': 'pageview', 'page': custpagename, 'title': custpagename});
</script>

</body>
</html>

